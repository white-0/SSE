"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isDuplex = exports.isWritable = exports.isReadable = exports.isStream = exports.isBuffer = void 0;
const node_buffer_1 = require("node:buffer");
const node_stream_1 = require("node:stream");
const util_js_1 = require("./util.js");
/**
 * returns true if val is buffer
 */
function isBuffer(val) {
    return (0, util_js_1.isInstanceOf)(val, node_buffer_1.Buffer);
}
exports.isBuffer = isBuffer;
/**
 * returns true if val is stream
 */
function isStream(val) {
    return (0, util_js_1.isInstanceOf)(val, node_stream_1.Stream);
}
exports.isStream = isStream;
/**
 * returns true if val is readable stream
 */
function isReadable(val) {
    return isStream(val) && _isReadable(val);
}
exports.isReadable = isReadable;
/**
 * returns true if val is write stream
 */
function isWritable(val) {
    return isStream(val) && _isWritable(val);
}
exports.isWritable = isWritable;
/**
 * returns true if val is duplex stream
 */
function isDuplex(val) {
    return isStream(val) && _isReadable(val) && _isWritable(val);
}
exports.isDuplex = isDuplex;
function _isReadable(val) {
    if (!(0, util_js_1.hasOwnPropertyInChain)(val, '_readableState') || !(0, util_js_1.hasOwnPropertyInChain)(val, '_read'))
        return false;
    return typeof val._read === 'function' && typeof val._readableState === 'object';
}
function _isWritable(val) {
    if (!(0, util_js_1.hasOwnPropertyInChain)(val, '_writableState') || !(0, util_js_1.hasOwnPropertyInChain)(val, '_write'))
        return false;
    return typeof val._write === 'function' && typeof val._writableState === 'object';
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90eXBlcy9ub2RlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDZDQUFxQztBQUNyQyw2Q0FBaUU7QUFDakUsdUNBQWdFO0FBRWhFOztHQUVHO0FBQ0gsU0FBZ0IsUUFBUSxDQUFDLEdBQVk7SUFDbkMsT0FBTyxJQUFBLHNCQUFZLEVBQUMsR0FBRyxFQUFFLG9CQUFNLENBQUMsQ0FBQztBQUNuQyxDQUFDO0FBRkQsNEJBRUM7QUFFRDs7R0FFRztBQUNILFNBQWdCLFFBQVEsQ0FBQyxHQUFhO0lBQ3BDLE9BQU8sSUFBQSxzQkFBWSxFQUFDLEdBQUcsRUFBRSxvQkFBTSxDQUFDLENBQUM7QUFDbkMsQ0FBQztBQUZELDRCQUVDO0FBRUQ7O0dBRUc7QUFDSCxTQUFnQixVQUFVLENBQUMsR0FBYTtJQUN0QyxPQUFPLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDM0MsQ0FBQztBQUZELGdDQUVDO0FBRUQ7O0dBRUc7QUFDSCxTQUFnQixVQUFVLENBQUMsR0FBYTtJQUN0QyxPQUFPLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDM0MsQ0FBQztBQUZELGdDQUVDO0FBRUQ7O0dBRUc7QUFDSCxTQUFnQixRQUFRLENBQUMsR0FBYTtJQUNwQyxPQUFPLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQy9ELENBQUM7QUFGRCw0QkFFQztBQUVELFNBQVMsV0FBVyxDQUFDLEdBQVc7SUFDOUIsSUFBSSxDQUFDLElBQUEsK0JBQXFCLEVBQUMsR0FBRyxFQUFFLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFBLCtCQUFxQixFQUFDLEdBQUcsRUFBRSxPQUFPLENBQUM7UUFBRSxPQUFPLEtBQUssQ0FBQztJQUN4RyxPQUFPLE9BQU8sR0FBRyxDQUFDLEtBQUssS0FBSyxVQUFVLElBQUksT0FBTyxHQUFHLENBQUMsY0FBYyxLQUFLLFFBQVEsQ0FBQztBQUNuRixDQUFDO0FBRUQsU0FBUyxXQUFXLENBQUMsR0FBVztJQUM5QixJQUFJLENBQUMsSUFBQSwrQkFBcUIsRUFBQyxHQUFHLEVBQUUsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUEsK0JBQXFCLEVBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQztRQUFFLE9BQU8sS0FBSyxDQUFDO0lBQ3pHLE9BQU8sT0FBTyxHQUFHLENBQUMsTUFBTSxLQUFLLFVBQVUsSUFBSSxPQUFPLEdBQUcsQ0FBQyxjQUFjLEtBQUssUUFBUSxDQUFDO0FBQ3BGLENBQUMifQ==