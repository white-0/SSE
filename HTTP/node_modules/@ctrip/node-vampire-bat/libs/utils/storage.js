"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.runInGlobalContext = exports.runInGlobalContextAsync = exports.storage = void 0;
const async_hooks_1 = require("async_hooks");
exports.storage = new async_hooks_1.AsyncLocalStorage();
// 在全局上下文中运行一个异步函数
async function runInGlobalContextAsync(fn, ...args) {
    return await exports.storage.exit(fn, ...args);
}
exports.runInGlobalContextAsync = runInGlobalContextAsync;
// 在全局上下文中运行一个异步函数
function runInGlobalContext(fn, ...args) {
    return exports.storage.exit(fn, ...args);
}
exports.runInGlobalContext = runInGlobalContext;
