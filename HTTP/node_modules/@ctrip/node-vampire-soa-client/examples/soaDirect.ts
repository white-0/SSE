import { SoaDirectApi, SoaDirectAgent } from '../index';

let soaDirectApi = new SoaDirectApi({
    // serviceId: 'wireless.soa.nodesoatestserver.v1.nodesoatestserver',
    // format: 'json',
    // serviceTimeout: 1, //可以自定义timeout
    // soaServerUrl:'http://localhost:8080/nodejs', //调用本地node soa服务端 调试
    serviceCode: '16264'
});


soaDirectApi.init().then(() => {
    soaDirectApi.invoke({
        method: 'hello',
        args: {},
        userId: 'test122'
    }).then((datas) => {
        console.log('result:', datas);
    }).catch((err) => {
        console.log(err);
    });
}).catch((err) => {
    console.log(err);
});
interface T {
      data: string
}
interface U {
   test:string,
   key:string
}
let args:U={test:"2",key:'22'}
SoaDirectAgent('wireless.soa.nodesoatestserver.v1.nodesoatestserver').hello({args}).then((data) => {
     console.log(data)
})