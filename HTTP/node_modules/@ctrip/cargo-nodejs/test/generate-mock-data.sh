#!/bin/bash
host="10.5.12.182:8080"
prefix="http://${host}/api/json"
keys=(
  'groupData'
  'currencyData'
  'channelData'
  'siteData'
  'sourceData'
  'keyData'
  'appKeyData'
  'localeData'
  'configData'
  'data'
  'allData'
  'dataWhiteList'
  'currencySwitch'
)

if [ ! -d "$1" ]; then
  mkdir -p $1
fi

for key in ${keys[@]}; do
  echo "generate ${key}..."

  curl -XPOST "${prefix}/${key}" -H 'Content-Type: application/json' -d'
    {
      "appId": "999999999",
      "version": "0",
      "force": true,
      "ip": "127.0.0.1"
    }
  ' | jq . > "$1/${key}.json"

  echo "finish"
done
