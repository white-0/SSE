'use strict'
const allData = require('./mock/allData.json')
const DataCache = require('../lib/cache/client/data-cache')
const VersionManager = require('../lib/cache/method/version-manager')
const assert = require('assert')

describe('version manager test', () => {

  it('test for empty', () => {
    assert.strictEqual(VersionManager.encodeVersionList([]), '0')
  })

  it('test for allData', () => {
    const dataCache = new DataCache()
    assert.strictEqual(
      VersionManager.encodeVersionList(
        allData.data.map(item => dataCache.convert(item))
      ),
      allData.version
    )
  })

})
