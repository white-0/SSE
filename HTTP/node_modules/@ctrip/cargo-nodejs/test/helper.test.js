'use strict'
const assert = require('assert')
const helper = require('../lib/common/helpers')

describe('helper test', () => {

  it('parse json', () => {
    assert.deepEqual(helper.parseJson(null), {})
    assert.deepEqual(helper.parseJson('haha'), {})
    assert.deepEqual(helper.parseJson('{"a": 1}'), { a: 1 })
  })

  it('convert locale to language', () => {
    assert.deepEqual(helper.convertLocale2H5Language('en-US'), 'en')
    assert.deepEqual(helper.convertLocale2H5Language('en-HK'), 'enHK')
    assert.deepEqual(helper.convertLocale2H5Language('ab-CD'), 'abCD')
  })

  it('convert language to locale ', () => {
    assert.deepEqual(helper.convertH5Language2Locale('en'), 'en-US')
    assert.deepEqual(helper.convertH5Language2Locale('enHK'), 'en-HK')
    assert.deepEqual(helper.convertH5Language2Locale('abCD'), 'ab-CD')
  })
})
