'use strict'
const QueryBuilder = require('./query-builder')

class ContextQueryBuilder extends QueryBuilder {
  constructor (keyName, cargoContext) {
    super(keyName)
    this.cargoContext = cargoContext
  }

  group (groupName) {
    if (!groupName) {
      groupName = this.cargoContext.getGroup()
    }
    return super.group(groupName)
  }

  site (siteName) {
    if (!siteName) {
      siteName = this.cargoContext.getSite()
    }
    return super.site(siteName)
  }

  locale (localeName) {
    if (!localeName) {
      localeName = this.cargoContext.getLocale()
    }
    return super.locale(localeName)
  }

  currency (currencyName) {
    if (!currencyName) {
      currencyName = this.cargoContext.getCurrency()
    }
    return super.currency(currencyName)
  }
}

module.exports = ContextQueryBuilder
