import { PluralNum } from './number';
import { PluralRule } from './rules';
export function getPlural(i18n, key, locale, num) {
    var pluralKey = getPluralKey(key, locale, num);
    return i18n[pluralKey] || i18n[key] || '';
}
function getPluralKey(key, locale, num) {
    var rule = new PluralRule(locale);
    var pluralNum = new PluralNum(num);
    for (var i = 0; i < rule.size; i++) {
        if (rule.canMatch(i)(pluralNum.getInteger(), pluralNum.getFration(), pluralNum.getFractionBitsCount())) {
            return "".concat(key).concat(rule.getSuffix(i));
        }
    }
    return key;
}
