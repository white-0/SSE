"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.convertFormat = exports.convertTimezoneOffset = exports.TIMEZONE_OFFSET = void 0;
var FIXED_STRING = '__SHARK_L10N_FIXED_STRING__';
exports.TIMEZONE_OFFSET = new Date().getTimezoneOffset() / 60;
var validateTimezone = function (timezone) {
    return timezone !== null && !isNaN(timezone) && timezone >= -12 && timezone <= 12;
};
var convertTimezoneOffset = function (timezone) {
    if (validateTimezone(timezone)) {
        return timezone + exports.TIMEZONE_OFFSET;
    }
    return 0;
};
exports.convertTimezoneOffset = convertTimezoneOffset;
var convertFormat = function (format) {
    var index = 0;
    var fixedStringArray = [];
    return format
        .replace(/'(.*?)'/g, function (match) {
        fixedStringArray.push(match);
        return FIXED_STRING;
    })
        .replace('d', 'D')
        .replace('LLLL', 'MMMM')
        .replace('LLL', 'MMM')
        .replace('EEEE', 'dddd')
        .replace('EEE', 'ddd')
        .replace('yyyy', 'YYYY')
        .replace('De', 'de')
        .replace(new RegExp(FIXED_STRING, 'g'), function () {
        var matchedFixedString = fixedStringArray[index];
        index++;
        return '[' + matchedFixedString.replace(/'/g, '') + ']';
    });
};
exports.convertFormat = convertFormat;
