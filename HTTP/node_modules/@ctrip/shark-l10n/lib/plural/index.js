"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPlural = void 0;
var number_1 = require("./number");
var rules_1 = require("./rules");
function getPlural(i18n, key, locale, num) {
    var pluralKey = getPluralKey(key, locale, num);
    return i18n[pluralKey] || i18n[key] || '';
}
exports.getPlural = getPlural;
function getPluralKey(key, locale, num) {
    var rule = new rules_1.PluralRule(locale);
    var pluralNum = new number_1.PluralNum(num);
    for (var i = 0; i < rule.size; i++) {
        if (rule.canMatch(i)(pluralNum.getInteger(), pluralNum.getFration(), pluralNum.getFractionBitsCount())) {
            return "".concat(key).concat(rule.getSuffix(i));
        }
    }
    return key;
}
