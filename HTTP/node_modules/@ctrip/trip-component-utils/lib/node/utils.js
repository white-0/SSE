"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getTripEnv = exports.lazyRequire = void 0;
const utils_1 = require("../shared/utils");
function lazyRequire(moduleName, def) {
    let val;
    let required = false;
    return {
        get current() {
            if (!val) {
                if (!required) {
                    try {
                        // avoid webpack require this module
                        val = eval('require')(moduleName);
                    }
                    catch (error) { }
                    required = true;
                }
                val = val || def;
            }
            return val;
        },
    };
}
exports.lazyRequire = lazyRequire;
const appConfig = lazyRequire('@ctrip/node-vampire-appconfig', {
    Env: 'prod',
    env: 'prod',
});
exports.getTripEnv = () => {
    const cfg = appConfig.current;
    return cfg ? utils_1.formatTripEnv(cfg.Env || cfg.env) : 'prod';
};
//# sourceMappingURL=utils.js.map