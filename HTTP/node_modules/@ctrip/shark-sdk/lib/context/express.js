'use strict'
const is = require('is-type-of')
const SharkContext = require('./shark-context')

module.exports = (req, res, next) => {
  if (!req || !res) {
    throw new Error('express invalid')
  }

  req.shark = new SharkContext(req, res, req.cargo)

  is.isFunction(next) && next()
}
