'use strict'
const SOAClient = require('./soa-client')
const addon = require('../store/addon')

class TalosSOAClient extends SOAClient {
  constructor () {
    super({ serviceName: 'talosservice', serviceCode: 15403 })
  }

  getAllTrans (appID, offset) {
    return this.invoke('getTrans', addon.encodeGetAllTransRequest(appID, offset))
  }

  getTrans (appID, timestamp) {
    // timestamp在扩展中取得
    return this.invoke('getTrans', addon.encodeGetTransRequest(appID, timestamp))
  }

  getLocaleConfig () {
    return this.invoke('getNewLocaleConfig', addon.encodeGetLocaleConfigRequest())
  }

  getUpdateConfig () {
    return this.invoke('getNewUpdateConfig', addon.encodeGetUpdateConfigRequest())
  }
}

module.exports = new TalosSOAClient()
