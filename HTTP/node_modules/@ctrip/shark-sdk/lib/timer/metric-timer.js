'use strict'
const AbstractTimer = require('./abstract-timer')
const metric = require('../metric')
const constants = require('../common/constants')
const logger = require('../log')

class MetricTimer extends AbstractTimer {
  constructor () {
    super(
      constants.INTERVALS.METRIC,
      constants.INTERVALS.METRIC
    )
  }

  run () {
    return metric.reportMetric()
      .then(() => {
        logger.debug('metric-timer success')
      })
      .catch(e => {
        logger.warning('metric-timer error', e)
      })
  }
}

module.exports = MetricTimer
