'use strict'
const { tripLog } = require('@ctrip/node-vampire-triplog')
const Logger = require('../logger')
const constants = require('../../common/constants')

class CLogger extends Logger {
  constructor () {
    super()
    this.prefix = `[shark-${constants.NPM_VERSION}]`
  }

  get enabledEnv () {
    return ['fat', 'fws', 'uat', 'lpt', 'prod', 'prd', 'pro']
  }

  debug (args) {
    tripLog.custom({
      type: 'debug',
      title: this.prefix,
      addInfo: args
    })
  }

  info (args) {
    tripLog.custom({
      type: 'info',
      title: this.prefix,
      addInfo: args
    })
  }

  warning (args) {
    tripLog.custom({
      type: 'warn',
      title: this.prefix,
      addInfo: args
    })
  }

  error (args) {
    tripLog.custom({
      type: 'error',
      title: this.prefix,
      addInfo: args
    })
  }
}

module.exports = new CLogger()
