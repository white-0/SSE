/*
 * @Author: your name
 * @Date: 2020-01-16 14:40:22
 * @LastEditTime : 2020-01-20 17:49:44
 * @LastEditors  : Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \ctripperim-electronh:\working\node-vampire\packages\node-vampire-http\test\timing.js
 */
const assert = require('assert');
const http = require('http');
const request = require('../');

// let p = Promise.resolve();

setInterval(()=>{
    request('http://developer.fx.ctripcorp.com/index.html?query='+Math.random(),{'time':true}).then((content) => {
        console.log('===content===', content.timings);
        // let timings = content.timings;
        // if(timings.dnsLookup != undefined){
        //     console.log('dnsLookup time:', timings.dnsLookup);
        // }
        // console.log(timings.dnsLookup);
    });
},2000);

//test event once and on
// const EventEmitter = require('events')
// const myEE = new EventEmitter();
// myEE.on('foo', () => console.log('a'));
// myEE.once('foo', () => console.log('c'));
// myEE.prependListener('foo', () => console.log('b'));
// myEE.emit('foo');
// myEE.emit('foo');
